(()=>{"use strict";var e={m:{},u:e=>e+".Bundle.js"};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var n=e.g.document;if(!t&&n&&(n.currentScript&&(t=n.currentScript.src),!t)){var s=n.getElementsByTagName("script");s.length&&(t=s[s.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})(),e.b=self.location+"";class t{static Version="1.3";static Build=4;constructor(){this.EventListeners=[]}AddEventListener(e,t,n={TTL:1/0,Once:!1}){return void 0===this.EventListeners[e]&&(this.EventListeners[e]=[]),this.EventListeners[e].push({Event:e,Listener:t,Options:n}),this.EventListeners[e].length-1}RemoveEventListener(e,t){this.EventListeners[e].splice(t,1)}FireEventListeners(e,...t){const n=this.EventListeners[e];if(void 0===n)return;const s=[];for(let t=0;t<n.length;t++){const i=n[t].Listener;this.EventListeners[e][t].Options.TTL-- >0&&!0!==this.EventListeners[e][t].Options.Once||this.EventListeners[e].splice(t--,1),s.push(i)}for(const e of s)e(...t)}on(...e){this.AddEventListener(...e)}}let n,s={},i=[],r=[],o=0;class u{constructor(){this.Events=new t,this.Worker=new Worker(new URL(e.p+e.u(462),e.b)),this.OwnQueueSize=new Uint8Array(new SharedArrayBuffer(1)),this.Worker.postMessage({...n,OwnQueueSize:this.OwnQueueSize}),this.Worker.addEventListener("message",function(e){"GenerateBoundingGeometry"===e.data.Request&&(self.postMessage(e.data,[e.data.Info.buffer]),this.Events.FireEventListeners("Finished"))}.bind(this))}}function c(e){0!==r.length&&(i[e].Worker.postMessage(r.shift()),Atomics.add(i[e].OwnQueueSize,0,1))}self.onmessage=function(e){s[e.data.Request]?.(e.data)},function e(){for(self.setTimeout(e,1);r.length>0;){let e=-1,t=3;for(let n=0;n<o;n++){const s=Atomics.load(i[n].OwnQueueSize,0);s<t&&(t=s,e=n)}if(-1===e)break;i[e].Worker.postMessage(r.shift()),Atomics.add(i[e].OwnQueueSize,0,1)}}(),s.GenerateBoundingGeometry=function(e){!function(e){let t=-1,n=3;for(let e=0;e<o;e++){const s=Atomics.load(i[e].OwnQueueSize,0);s<n&&(n=s,t=e)}-1!==t?(i[t].Worker.postMessage(e),Atomics.add(i[t].OwnQueueSize,0,1)):r.push(e)}(e)},s.SaveStuff=function(e){o=e.MaxWorkers,n=e,function(){for(let e=0;e<o;e++){let t=new u;i.push(t),t.Events.AddEventListener("Finished",function(e){return function(){c(e)}}.bind(this)(e))}}()}})();