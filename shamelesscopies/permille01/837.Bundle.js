(()=>{"use strict";var t,e,o={2837:(t,e,o)=>{o(8996),o(3318);class n{constructor(t,e,o=-1){this.Identifier=t,this.Properties=e,this.ID=o}}class r{static MAX_BLOCK_IDS=65536;constructor(){this.BlockIDMapping={},this.BlockIdentifierMapping={},this.RegisterPrimaryIDs()}static Initialise(t,e){let o=Object.create(this.prototype);return o.BlockIDMapping=t,o.BlockIdentifierMapping=e,o}RegisterPrimaryIDs(){this.RegisterBlock(new n("primary:air",{Solid:!1,Invisible:!0,Transparent:!0,Precedence:-32},0),0),this.RegisterBlock(new n("primary:not_loaded",{Solid:!0,Invisible:!0,Transparent:!0},49148),49148),this.RegisterBlock(new n("primary:placeholder",{Solid:!0,Invisible:!1,Transparent:!1},49149),49149),this.RegisterBlock(new n("primary:temp",{Solid:!0,Invisible:!1,Transparent:!1},49150),49150),this.RegisterBlock(new n("primary:error",{Solid:!0,Invisible:!1,Transparent:!1,Precedence:1/0},49151),49151),this.RegisterBlock(new n("primary:custom",{Solid:!0,Invisible:!1,Transparent:!1,Precedence:1024},65535),65535),this.RegisterBlock(new n("generic:solid",{Solid:!0,Invisible:!1,Transparent:!1},61440),61440),this.RegisterBlock(new n("generic:gas",{Solid:!1,Invisible:!0,Transparent:!0},61441),61441),this.RegisterBlock(new n("generic:fluid",{Solid:!1,Invisible:!1,Transparent:!0},61442),61442)}RegisterBlock(t,e){if(void 0!==e){if(e<0||e>=r.MAX_BLOCK_IDS)throw new Error("Invalid Block ID.");if(void 0!==this.BlockIDMapping[e])throw new Error("The Block ID "+e+" has already been mapped to a block ("+this.GetBlockByID(e).Identifier+"). Try not specifying the ID to ensure that the block is given a unique Block ID.")}else e=this.FindSmallestID();this.BlockIDMapping[e]=t,this.BlockIdentifierMapping[t.Identifier]=t,t.ID=e}GetBlockByID(t){return this.BlockIDMapping[t]??this.BlockIDMapping[49151]}GetBlockByIdentifier(t){return this.BlockIdentifierMapping[t]??this.BlockIDMapping[49151]}FindSmallestID(){for(let t=0;t<r.MAX_BLOCK_IDS;t++)if(void 0===this.BlockIDMapping[t])return t}}class i{constructor(t,e=s.INTERPOLATION_NEAREST_NEIGHBOUR,o=null){this.Scales=t,this.InterpolationMethod=e,this.BlockRegistry=o}GetScale(t,e=null){if(this.Scales[t])return this.Scales[t];const o=e||this.BlockRegistry;if(!o)throw new Error("Scale Containers need access to a block registry to calculate smaller scales.");const n=this.Scales[1],r=n.Data,i=this.Scales[1].XLength,s=this.Scales[1].YLength,a=this.Scales[1].ZLength,c=Math.ceil(i/t),l=Math.ceil(s/t),f=Math.ceil(a/t),h=new Uint16Array(c*l*f);for(let e=0,n=0;e<c;e++)for(let c=0;c<l;c++)for(let l=0;l<f;l++,n++){const f=Math.floor(e*t),u=Math.floor(c*t),g=Math.floor(l*t);let p=0,d=-1/0;for(let e=f;e<t+f&&e<i;e++)for(let n=u;n<t+u&&n<s;n++)for(let i=g;i<t+g&&i<a;i++){const t=r[e*s*a+n*a+i],c=o.GetBlockByID(t).Properties.Precedence||0;(d<c||6===t)&&(d=c,p=t)}h[n]=p}return this.Scales[t]={XOffset:Math.floor(n.XOffset/t),YOffset:Math.floor(n.YOffset/t),ZOffset:Math.floor(n.ZOffset/t),XLength:c,YLength:l,ZLength:f,Data:h},this.Scales[t]}GetScale_NearestNeighbour(t){if(this.Scales[t])return this.Scales[t];const e=this.Scales[1],o=e.Data,n=this.Scales[1].XLength,r=this.Scales[1].YLength,i=this.Scales[1].ZLength,s=Math.ceil(n/t),a=Math.ceil(r/t),c=Math.ceil(i/t),l=new Uint16Array(s*a*c);for(let e=0,n=0;e<s;e++)for(let s=0;s<a;s++)for(let a=0;a<c;a++,n++){const c=Math.floor(e*t),f=Math.floor(s*t),h=Math.floor(a*t);l[n]=o[c*r*i+f*i+h]}return this.Scales[t]={XOffset:Math.floor(e.XOffset/t),YOffset:Math.floor(e.YOffset/t),ZOffset:Math.floor(e.ZOffset/t),XLength:s,YLength:a,ZLength:c,Data:l},this.Scales[t]}GetVerticalScale(t){if(this.Scales["Y"+t])return this.Scales["Y"+t];const e=this.Scales[1],o=e.Data,n=this.Scales[1].XLength,r=this.Scales[1].YLength,i=this.Scales[1].ZLength,s=Math.ceil(r/t),a=new Uint16Array(n*s*i);for(let e=0,c=0;e<n;e++)for(let n=0;n<s;n++)for(let s=0;s<i;s++,c++){const l=e,f=Math.floor(n*t),h=s;let u=0;for(let e=f;e<r&&e<f+t;e++)u||=o[l*r*i+e*i+h];a[c]=u}return this.Scales["Y"+t]={XOffset:e.XOffset,YOffset:Math.floor(e.YOffset/t),ZOffset:e.ZOffset,XLength:n,YLength:s,ZLength:i,Data:a},this.Scales["Y"+t]}_GetVerticalScale(t){if(this.Scales["Y"+t])return this.Scales["Y"+t];const e=this.Scales[1],o=e.Data,n=this.Scales[1].XLength,r=this.Scales[1].YLength,i=this.Scales[1].ZLength,s=Math.ceil(r/t),a=new Uint16Array(n*s*i);for(let e=0,c=0;e<n;e++)for(let n=0;n<s;n++)for(let s=0;s<i;s++,c++){const l=e,f=Math.floor(n*t),h=s;a[c]=o[l*r*i+f*i+h]}return this.Scales["Y"+t]={XOffset:e.XOffset,YOffset:Math.floor(e.YOffset/t),ZOffset:e.ZOffset,XLength:n,YLength:s,ZLength:i,Data:a},this.Scales["Y"+t]}}class s{static INTERPOLATION_NEAREST_NEIGHBOUR=1;static INTERPOLATION_HIGHEST_FREQUENCY=2;static INTERPOLATION_COMMON_BLOCKS=3;constructor(t,e=null,o={}){this.Scales=t,this.Metadata=e,this.Info=o}DirectPaste(t,e,o,n,r,i,s=!1){const a=this.Scales.GetScale(n,r),c=t+a.XOffset,l=e+a.YOffset,f=o+a.ZOffset,h=a.Data;for(let t=c,e=a.XLength+c,o=0;t<e;t++)for(let e=l,n=a.YLength+l;e<n;e++)for(let n=f,r=a.ZLength+f;n<r;n++,o++)s&&0===h[o]||i(t,e,n,h[o])}static FromObject(t){const e={};return Object.assign(e,t),Object.setPrototypeOf(e,s.prototype),Object.setPrototypeOf(e.Scales,i.prototype),e}}s.INTERPOLATION_NEAREST_NEIGHBOUR;var a=o(5383);const c=new(o(7614).Z);function l(t,e){const o=(2*t-1)/((2*t-1)**2+1);return(Math.sign(o)*Math.abs(o)**e+.5**e)/e**-e}function f(t,e){const o=(2*t-1)/((2*t-1)**2+1);return Math.sign(o)*(1-(1-2*Math.abs(o))**e)*.5+.5}const h=[];for(let t=0;t<150;t++){h[t]=new Float32Array(501);for(let e=0,o=h[t];e<501;e++)o[e]=l(e/500,t/150)}const u=[];for(let t=0;t<150;t++){u[t]=new Float32Array(501);for(let e=0,o=u[t];e<501;e++)o[e]=f(e/2e3,t/150)}const g=[];for(let t=250;t<450;t++){g[t]=new Float32Array(771);for(let e=0,o=g[t];e<771;e++)o[e]=(p=e/500,d=t/150,Math.expm1(Math.pow(p,d))/Math.expm1(1))}var p,d;function I(t,e,o){return function(n){return function(t){return 1/(t**2+1)}((n-t)/e)**o}}function S(t,e){return function(o){return function(t){return 2/((Math.abs(1*t)+1)**2+1)}((o-t)/e)}}function M(t,e){return function(o){return function(t){return 1-Math.abs(Math.sin(t))}((o-t)/e)}}I(1e3,200,1),I(-0,30,1),I(300,200,1),I(300,50,1),I(1200,300,1),I(0,150,1),I(1.02,.17,1),I(1.01,.05,1),S(150,20),S(100,25),M(0,.1),M(0,.0251),I(.47,.12,.57),S(.4,.04),S(.15,.0014),a.Z.seed(17),c.setSeed(17);class B extends Error{constructor(){super("Ran out of Data8 memory."),this.name="NoData8Exception"}}let D=0,O=0,y=0,R=[];function k(t,e,o){let n=(4095&t)<<20|(255&e)<<12|4095&o;return n=73244475*(n>>>16^n),n=73244475*(n>>>16^n),n^=n>>>16,n/4294967295+.5}self.gc&&function t(){self.setTimeout(t,1e3),D-O>2e3&&D-y<4&&(self.gc(),O=D),y=D}();const m={};let w,A,b;self.onmessage=function(t){m[t.data.Request]?.(t.data)};let L,v,X,T,Y,Z,G,E,P,N=[];function _(t,e,o,n){const r=Atomics.add(Y,0,1)&Z.length-1,i=Atomics.exchange(Z,r,2147483647);if(2147483647===i)throw Atomics.sub(Y,0,1),new B;return X[t<<9|e<<6|o<<3|n]=i|1<<30,i}function x(t,e,o,n){const r=4095&Atomics.add(G,0,1),i=Atomics.exchange(E,r,65535);return T[n<<9|t<<6|e<<3|o]&=~(1<<31),T[n<<9|t<<6|e<<3|o]&=-524288,T[n<<9|t<<6|e<<3|o]|=i,i}function j(t){const e=X[t];if(0==(2147483648&e)){if(0==(268435456&e)){const t=Atomics.add(Y,1,1)&Z.length-1;Atomics.store(Z,t,e)}X[t]=2147483648}}function U(t,e,o,n,r){const i=4095&Atomics.add(G,1,1);Atomics.store(E,i,t),T[r<<9|e<<6|o<<3|n]&=-524288,T[r<<9|e<<6|o<<3|n]|=1<<31}m.InitialiseBlockRegistry=function(t){w=r.Initialise(t.BlockIDMapping,t.BlockIdentifierMapping)},m.TransferRequiredRegionsArray=function(t){A=t.RequiredRegions},m.ShareDataBuffers=function(t){L=t.VoxelTypes,v=t.Data1,X=t.Data8,T=t.Data64,Y=t.AllocationIndex,Z=t.AllocationArray,G=t.AllocationIndex64,E=t.AllocationArray64,P=t.Data64Offset},m.ShareQueueSize=function(t){b=t.OwnQueueSize},m.SaveDistancedPointMap=function(t){console.time(),N[0]=t.DistancedPointMap;let e=8,o=1;do{N[o]={};const t=N[o],n=N[o-1];for(const r in n){t[r]={};const i=t[r],s=n[r];for(let t=0;t<e;t+=2)for(let n=0;n<e;n+=2){const r=t/2*e/2+n/2;i[r]=[];for(let a=0;a<2;a++)for(let c=0;c<2;c++)for(const l of s[(t+a)*e+n+c]){const t=l.X,e=l.Z;i[r].push({X:(64<<o-1)*a+t,Z:(64<<o-1)*c+e})}}}}while(o++,(e/=2)>1);console.timeEnd()},m.ShareStructures=function(t){for(const e of t.Structures)e.Selection=s.FromObject(e.Selection),R.push(e)};const C=new Uint16Array(512),F=new Uint16Array(64),q=new Uint16Array(512),H=new Uint16Array(64);m.GenerateRegionData=function(t){const e=t.RegionX,o=t.RegionY,n=t.RegionZ,r=e-P[0],i=o-P[1],s=n-P[2];D++;const a=w.GetBlockByIdentifier("primary:air").ID,c=w.GetBlockByIdentifier("default:grass").ID,l=w.GetBlockByIdentifier("default:rock").ID,f=w.GetBlockByIdentifier("default:rock1").ID,h=w.GetBlockByIdentifier("default:water").ID,u=t.HeightMap,g=t.SlopeMap,p=(t.TemperatureMap,x(r,i,s,0)),d=64*o,I=r<<6|i<<3|s;let S=!1;for(let t=0;t<8;++t)for(let e=0;e<8;++e)for(let o=0;o<8;++o){const n=p<<9|t<<6|e<<3|o;C.set(q,0),F.set(H,0);let M,D=!1,O=-1,y=-1;for(let n=0;n<8;++n)for(let r=0;r<8;++r){const i=(t<<3|n)<<6|o<<3|r,s=Math.floor(u[i]),p=g[i];for(let t=0;t<8;++t){let o;const i=d+8*e+t;o=s>i?p<4-s/350?c:p<5.5570110493302-s/350?l:f:s<0&&i<0?h:a,o!==O&&(O=o,y++),0!==o&&(D=!0),C[n<<6|t<<3|r]=o,F[n<<3|t]|=0!==o?0<<2*r:1<<r}}if(D)if(S=!0,0!==y){try{M=_(p,t,e,o)}catch(t){if(t instanceof B){T[I]&=-3670017;for(let t=0;t<512;++t)j(p<<9|t);return U(p,r,i,s,0),b&&Atomics.sub(b,0,1),self.postMessage({Request:"NoData8"})}throw t}L.set(C,M<<9),v.set(F,M<<6)}else X[n]=1<<28,X[n]|=O,X[n]|=1<<30}1==(T[I]>>31&1)&&console.log(T[I]),S?T[I]&=~(1<<31):U(p,r,i,s,0),T[I]=-3670017&T[I]|2<<19,b&&Atomics.sub(b,0,1),self.postMessage({Request:"GeneratedRegionData",RegionX:t.RegionX,RegionY:t.RegionY,RegionZ:t.RegionZ,LoadingBatch:t.LoadingBatch})},m.GenerateVirtualRegionData=function(t){const e=t.RegionX,o=t.RegionY,n=t.RegionZ,r=t.Depth,i=e-P[3*r+0],s=o-P[3*r+1],a=n-P[3*r+2];D++;const c=2**t.Depth,l=w.GetBlockByIdentifier("primary:air").ID,f=w.GetBlockByIdentifier("default:grass").ID,h=w.GetBlockByIdentifier("default:rock").ID,u=w.GetBlockByIdentifier("default:rock1").ID,g=w.GetBlockByIdentifier("default:water").ID,p=w.GetBlockByIdentifier("default:leaves").ID,d=t.HeightMap,I=t.SlopeMap,S=t.TemperatureMap,M=x(i,s,a,r),O=r<<9|i<<6|s<<3|a;1==(T[O]>>31&1)&&console.log("Allocation: "+T[O]);try{let B=!1;for(let t=0;t<8;++t)for(let e=0;e<8;++e)for(let n=0;n<8;++n){const r=M<<9|t<<6|e<<3|n;C.set(q,0),F.set(H,0);let i=!1,s=-1,a=-1;for(let r=0;r<8;++r)for(let p=0;p<8;++p){const S=(t<<3|r)<<6|n<<3|p,M=Math.floor(d[S]/c)*c,B=I[S];for(let t=0;t<8;++t){let n;const d=(64*o+8*e+t)*c;n=M>d?B<4-M/350?f:B<5.5570110493302-M/350?h:u:M<0&&d<0?g:l,n!==s&&(s=n,a++),0!==n&&(i=!0),C[r<<6|t<<3|p]=n,F[r<<3|t]|=0!==n?0<<2*p:1<<p}}if(!i)continue;if(B=!0,0===a){X[r]=1<<28,X[r]|=s,X[r]|=1<<30;continue}const p=_(M,t,e,n);L.set(C,p<<9),v.set(F,p<<6)}const D=function(t,e,o,n){if(0===n||t<0||e<0||o<0||t>=64||e>=64||o>=64)return;const r=M<<9|(t>>3&7)<<6|(e>>3&7)<<3|o>>3&7;let i=X[r];if(0!=(2147483648&i)){i=_(M,t>>3&7,e>>3&7,o>>3&7);for(let t=0;t<64;++t)v[(16777215&i)<<6|t]=255}else if(0!=(268435456&i)){const n=65535&i;i=_(M,t>>3&7,e>>3&7,o>>3&7);const r=16777215&i;for(let t=0;t<512;++t)L[r<<9|t]=n;for(let t=0;t<64;++t)v[r<<6|t]=0}const s=16777215&i;X[r]|=1073741824;const a=s<<6|(7&t)<<3|7&e;v[a]&=~(1<<(7&o)),L[a<<3|7&o]=n};if(r<4){const i=8/c,s=N[r][6][(e&i-1)*i|n&i-1];for(const i of s){const s=k(i.X+e*c*64,0,i.Z+n*c*64),a=k(i.X+e*c*64,3,i.Z+n*c*64),l=i.X,f=i.Z,h=Math.round(l/c-.5),u=Math.round(f/c-.5),g=S[h<<6|u],p=t.SlopeMap[h<<6|u];if(s>g/2)continue;if(3===r&&s>g/3)continue;const I=Math.floor(d[h<<6|u])/c;if(I<0)continue;if(!(64*(o+1)>I&&I>64*o-32))continue;if(a<d[h<<6|u]/1e3||2*a<p)continue;B=!0;const M=k(i.X+e*c*64,1,i.X+n*c*64),O=Math.floor(M*R.length);R[O].Selection.DirectPaste(h,I-64*o,u,c,w,D)}}else for(let e=0;e<64;++e)for(let n=0;n<64;++n){const i=S[e<<6|n],s=t.SlopeMap[e<<6|n];if(k(e,1,n)>i/1.5)continue;if(k(e,2,n)<d[e<<6|n]/1e3||2*k(e,3,n)<s)continue;const a=Math.floor(d[e<<6|n]/c)-64*o;a>=0&&a<64&&(B=!0,D(e,a,n,p),r<6&&a<63&&k(e,4,n)>i/.9&&D(e,a+1,n,p))}1==(T[O]>>31&1)&&console.log(T[O]),B?T[O]&=~(1<<31):U(M,i,s,a,r),T[O]=-3670017&T[O]|7<<19,T[O]|=1<<30}catch(t){if(t instanceof B){T[O]&=-3670017;for(let t=0;t<512;++t)j(M<<9|t);return U(M,i,s,a,0),self.postMessage({Request:"NoData8"})}throw t}b&&Atomics.sub(b,0,1),self.postMessage({Request:"GeneratedRegionData",RegionX:t.RegionX,RegionY:t.RegionY,RegionZ:t.RegionZ,Depth:t.Depth,LoadingBatch:t.LoadingBatch})}}},n={};function r(t){var e=n[t];if(void 0!==e)return e.exports;var i=n[t]={exports:{}};return o[t](i,i.exports,r),i.exports}r.m=o,r.x=()=>{var t=r.O(void 0,[859],(()=>r(2837)));return r.O(t)},t=[],r.O=(e,o,n,i)=>{if(!o){var s=1/0;for(f=0;f<t.length;f++){for(var[o,n,i]=t[f],a=!0,c=0;c<o.length;c++)(!1&i||s>=i)&&Object.keys(r.O).every((t=>r.O[t](o[c])))?o.splice(c--,1):(a=!1,i<s&&(s=i));if(a){t.splice(f--,1);var l=n();void 0!==l&&(e=l)}}return e}i=i||0;for(var f=t.length;f>0&&t[f-1][2]>i;f--)t[f]=t[f-1];t[f]=[o,n,i]},r.d=(t,e)=>{for(var o in e)r.o(e,o)&&!r.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},r.f={},r.e=t=>Promise.all(Object.keys(r.f).reduce(((e,o)=>(r.f[o](t,e),e)),[])),r.u=t=>t+".Bundle.js",r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t;r.g.importScripts&&(t=r.g.location+"");var e=r.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var o=e.getElementsByTagName("script");o.length&&(t=o[o.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=t})(),(()=>{var t={837:1};r.f.i=(e,o)=>{t[e]||importScripts(r.p+r.u(e))};var e=self.webpackChunkElectronProject=self.webpackChunkElectronProject||[],o=e.push.bind(e);e.push=e=>{var[n,i,s]=e;for(var a in i)r.o(i,a)&&(r.m[a]=i[a]);for(s&&s(r);n.length;)t[n.pop()]=1;o(e)}})(),e=r.x,r.x=()=>r.e(859).then(e),r.x()})();