(()=>{"use strict";var e={m:{},u:e=>e+".Bundle.js"};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var s=e.g.document;if(!t&&s&&(s.currentScript&&(t=s.currentScript.src),!t)){var n=s.getElementsByTagName("script");n.length&&(t=n[n.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})(),e.b=self.location+"";class t{static Version="1.3";static Build=4;constructor(){this.EventListeners=[]}AddEventListener(e,t,s={TTL:1/0,Once:!1}){return void 0===this.EventListeners[e]&&(this.EventListeners[e]=[]),this.EventListeners[e].push({Event:e,Listener:t,Options:s}),this.EventListeners[e].length-1}RemoveEventListener(e,t){this.EventListeners[e].splice(t,1)}FireEventListeners(e,...t){const s=this.EventListeners[e];if(void 0===s)return;const n=[];for(let t=0;t<s.length;t++){const i=s[t].Listener;this.EventListeners[e][t].Options.TTL-- >0&&!0!==this.EventListeners[e][t].Options.Once||this.EventListeners[e].splice(t--,1),n.push(i)}for(const e of n)e(...t)}on(...e){this.AddEventListener(...e)}}let s,n={},i=[],r=[];n.TransferRRS=function(e){s=e.RequiredRegionsSelection};class o{constructor(){this.Events=new t,this.Worker=new Worker(new URL(e.p+e.u(700),e.b)),this.OwnQueueSize=new Uint8Array(new SharedArrayBuffer(1)),this.Worker.postMessage({Request:"ShareQueueSize",OwnQueueSize:this.OwnQueueSize}),this.Worker.postMessage({Request:"TransferRequiredRegionsArray",RequiredRegionsSelection:s}),this.Worker.addEventListener("message",function(e){self.postMessage(e.data),this.Events.FireEventListeners("Finished")}.bind(this))}}for(let e=0;e<3;e++){let t=new o;i.push(t),t.Events.AddEventListener("Finished",function(e){return function(){u(e)}}.bind(void 0)(e))}function u(e){0!==r.length&&(i[e].Worker.postMessage(r.shift()),Atomics.add(i[e].OwnQueueSize,0,1))}self.onmessage=function(e){n[e.data.Request]?.(e.data)},function e(){for(self.setTimeout(e,1);r.length>0;){let e=-1,t=5;for(let s=0;s<3;s++){const n=Atomics.load(i[s].OwnQueueSize,0);n<t&&(t=n,e=s)}if(-1===e)break;i[e].Worker.postMessage(r.shift()),Atomics.add(i[e].OwnQueueSize,0,1)}}(),n.SetSeed=function(e){for(let t=0;t<3;t++)i[t].Worker.postMessage(e)},n.GenerateHeightMap=function(e){!function(e){let t=-1,s=5;for(let e=0;e<3;e++){const n=Atomics.load(i[e].OwnQueueSize,0);n<s&&(s=n,t=e)}-1!==t?(i[t].Worker.postMessage(e),Atomics.add(i[t].OwnQueueSize,0,1)):r.push(e)}(e)}})();